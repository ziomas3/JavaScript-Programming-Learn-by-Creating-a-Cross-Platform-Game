<!DOCTYPE html>
<html>

<head>
    <title>Canvas</title>
    <style>
        canvas {
            border: 1px solid black;
        }
    </style>
</head>

<body>
    <h1>Animated Canvas</h1>
    <canvas width='500' height='300' id='myCanvas'></canvas>
    <script>

        var x = 10;
        var y = 10;
        var w = 20;
        var h = 30;
        
        var boink = 1;

        var speed = 2;

        var canvas = document.getElementById('myCanvas');
        var ctx = canvas.getContext("2d");

        var update = function () {
            if (x == 500-w) boink = 0;
            if (x == 0) boink = 1;
            if (boink)
                x = x + speed;
            else
                x = x - speed;
            console.log(x);
        }

        var draw = function () {
            ctx.clearRect(0, 0, 500, 500);
            ctx.fillStyle = 'rgb(200,0,100)';
            ctx.fillRect(x, y, w, h);

        }

        var step = function () {

            update();
            draw();
            window.requestAnimationFrame(step)
        };

        step();
    </script>
</body>

</html>