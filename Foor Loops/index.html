<!DOCTYPE html>
<html>

<head>
    <style>
        canvas {
            border: 1px solid black;
            width: 100%;
        }
    </style>
</head>

<body>
    <h1>While Loop</h1>
    <canvas id="myCanvas" width="640" height="360"></canvas>
    <script>
        console.log(1);
        console.log(2);
        console.log(3);
        console.log(4);

        var i = 1;
        while (i <= 1000) {
            console.log(i);
            i++;
        }

        var GAME_WIDTH = 640;
        var GAME_HEIGHT = 360;

        var enemies = [
            {
                x: 100,
                y: 100,
                speedY: 1,
                w: 40,
                h: 40
            },
            {
                x: 260,
                y: 100,
                speedY: 2,
                w: 40,
                h: 40
            },
            {
                x: 380,
                y: 100,
                speedY: 3,
                w: 40,
                h: 40
            },
            {
                x: 450,
                y: 100,
                speedY: 7,
                w: 40,
                h: 40
            }
        ];

        var canvas = document.getElementById('myCanvas');
        var ctx = canvas.getContext("2d");

        var update = function () {
            // var j = 0;
            // var n = enemies.length;

            // while (j < n) {
            //     enemies[j].y += enemies[j].speedY;
            //     j++;
            // }

            for (var j = 0; j < enemies.length; j++) {
                enemies[j].y += enemies[j].speedY;
            }
        }

        var draw = function () {
            ctx.clearRect(0, 0, GAME_WIDTH, GAME_HEIGHT);
            ctx.fillStyle = '#3333FF';
            // var j = 0;
            // var n = enemies.length;
            // while (j < n) {
            //     ctx.fillRect(enemies[j].x, enemies[j].y, enemies[j].w, enemies[j].h)
            //     j++;
            // }
            
            var n = enemies.length; //uses less resources
            for (var j = 0; j < n; j++) {
                ctx.fillRect(enemies[j].x, enemies[j].y, enemies[j].w, enemies[j].h)
            }
        }

        var step = function () {

            update();
            draw();
            window.requestAnimationFrame(step)
        };

        step();
    </script>
</body>

</html>